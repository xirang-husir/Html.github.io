import{_ as w}from"./_plugin-vue_export-helper-d0c954b5.js";import{v as E}from"./el-card-bea68d82.js";import{P as S}from"./PageContainer-3518642d.js";import{E as h}from"./el-button-34fd1b85.js";import{E as A}from"./el-progress-a1883e57.js";/* empty css                */import{q as b,p as c,t as B,ad as P,a7 as x,o as l,e as _,w as o,x as r,a as C,A as d,bP as I,D as R,E as D,G as N,H as V,B as q}from"./index-ecbdf83b.js";/* empty css                   */import"./error-f07d6138.js";import"./isEqual-a3f1c875.js";const z=t=>(N("data-v-b1cf296c"),t=t(),V(),t),F=["src"],L=z(()=>q("br",null,null,-1)),M={__name:"UserAvatar",setup(t){const n=b(),a=c(n.user.user_pic),i=c(),m=s=>{const e=new FileReader;e.readAsDataURL(s.raw),e.onload=()=>{a.value=e.result,console.log(a.value)}},v=async()=>{await I(a.value),await n.getUser(),R.success("头像更新成功")},p=c(!0);return B(()=>{setTimeout(()=>{p.value=!1},750)}),(s,e)=>{const f=P("Plus"),g=D,U=A,u=h,y=S,k=E;return x((l(),_(y,{title:"更换头像"},{default:o(()=>[r(U,{ref_key:"uploadRef",ref:i,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":m},{default:o(()=>[a.value?(l(),C("img",{key:0,src:a.value,class:"avatar"},null,8,F)):(l(),_(g,{key:1,class:"avatar-uploader-icon"},{default:o(()=>[r(f)]),_:1}))]),_:1},512),L,r(u,{onClick:e[0]||(e[0]=T=>i.value.$el.querySelector("input").click()),type:"primary",icon:s.Plus,size:"large"},{default:o(()=>[d("选择图片")]),_:1},8,["icon"]),r(u,{onClick:v,type:"success",icon:s.Upload,size:"large"},{default:o(()=>[d("上传头像")]),_:1},8,["icon"])]),_:1})),[[k,p.value]])}}},Y=w(M,[["__scopeId","data-v-b1cf296c"]]);export{Y as default};
